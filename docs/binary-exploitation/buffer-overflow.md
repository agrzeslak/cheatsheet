---
layout: default
title: Buffer Overflow
parent: Binary Exploitation
---

# Buffer Overflow
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Tools
Unique buffer string
```shell
pattern_create.rb <length of string (bytes)>  # Generate unique string
pattern_offset.rb <hex string to match>       # Locate offset of hex value within string
```

Convert instructions to op codes
```shell
nasm_shell.rb
```

---

## Bad Characters
Common bad characters:
- `0x00` null byte (terminates strings and hence truncates payload)
- `0x0A` line feed (can terminate fields such as password inputs where line feed/return terminates it)
- `0x0D` carraige return (same as line feed)

---

## Concepts
### ASLR
- Address Space Layout Randomisation
- Randomly offsets the location of modules and in-memory structures
- Aims to prevent exploits from reliably locating sections of code
- Can be bypassed if the location of certain memory regions (especially DLL mappings) can be predicted, controlled or discovered
- Absence of DEP can allow the use of heap spraying to place code in predictable locations

### DEP
- Data Execution Prevention
- Prevents areas of memory such as the stack from being executed
- In most cases is not robust enough without ASLR
